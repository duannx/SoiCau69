<ion-content no-bounce>
    <div class="a1-header-height a3-container a3-justify-start a3-items-center m-header">
        <div class="a3-container " padding (click)="onClickBack()">
            <ion-icon name="ios-arrow-back-outline" class="header-button-icon"></ion-icon>
        </div>
        <div class="m-header-title" style="flex:1">Thống kê Loto yêu thích</div>
    </div>

    <div class="a1-content">
        <div class="a-inputs-controller">
            <ion-grid>



                <ion-row>

                    <ion-col col-6 (click)="onClickCount()">
                        <div style="padding-bottom:10px">Số lần quay thưởng</div>
                        <div class="a-input a3-container a3-justify-between">
                            <div>{{inputs.count}} lần</div>
                            <ion-icon name="ios-arrow-dropdown-outline" class="a-input-icon"></ion-icon>
                        </div>
                    </ion-col>

                    <ion-col col-6 (click)="onClickPickEndDay()">
                        <div style="padding-bottom:10px">Trước ngày</div>
                        <div class="a-input a3-container a3-justify-between">
                            <div>{{inputs.mDateStr}}</div>
                            <ion-icon name="ios-arrow-dropdown-outline" class="a-input-icon"></ion-icon>
                        </div>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col>
                        <div style="padding-bottom:10px">Bộ số</div>
                        <div class="a-input a3-container a3-justify-between">
                            <div class="a-input-number">
                                <ion-input type="tel" [(ngModel)]="inputs.lotos" (input)="onLotosChanged($event)" class="a-input-loto" placeHolder="Những cặp số bạn kết"></ion-input>
                            </div>
                            <ion-icon name="ios-arrow-dropdown-outline" class="a-input-icon" (click)="onClickQuickLotos()" *ngIf="inputs.lotos.length==0"></ion-icon>
                            <ion-icon name="ios-close-circle-outline" class="a-input-icon" (click)="onClickClearLotos()" *ngIf="inputs.lotos.length>0"></ion-icon>
                        </div>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6 (click)="onClickPickCategory()">
                        <div style="padding-bottom:10px">Chọn tỉnh</div>
                        <div class="a-input a3-container a3-justify-between">
                            <div>{{inputs.category.name}}</div>
                            <ion-icon name="ios-arrow-dropdown-outline" class="a-input-icon"></ion-icon>
                        </div>
                    </ion-col>
                    <ion-col col-6>
                        <div style="padding-bottom:10px;color:white">|||</div>
                        <div class=" a-input-button a3-container a3-justify-center" (click)="onClickViewResult()">
                            <span style="white-space: nowrap">Xem kết quả</span>
                        </div>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </div>

        <div class="a-lotos-container">
            <!--<div padding style="background-color:lightblue; margin-bottom:8px"> 10 bộ số xuất hiện nhiều nhất</div>
      <div class="mChartContainer">
        <canvas id="mChartCanvas"></canvas>
      </div>-->
            <div *ngIf="lotos_filter.length>0">
                <div style="background-color:lightblue; margin-bottom:8px;" class="a3-container a3-justify-between a3-items-center">
                    <div style="padding-left:16px"> Biểu đồ phân phối {{lotos_filter.length}} bộ số</div>
                    <div class="a3-container" padding (click)="onClickSortOptions()">
                        <ion-icon name="ios-options-outline" style="font-weight:bold"></ion-icon>
                    </div>
                </div>
                <div class="a-loto-container">
                    <div class="a-loto-item" *ngFor="let loto of lotos_filter" [style.background-color]="getBackgroundColor(loto)" (click)="onClickLoto(loto)">
                        {{loto.loto}}
                    </div>
                </div>
            </div>

            <div *ngIf="lotoResult.length>0">
                <div style="height:20px"></div>
                <div padding style="background-color:lightblue; margin-bottom:8px"> Kết quả Loto ngày {{inputs.mDateStr}}</div>
                <div style="padding : 8px">
                    <div *ngFor="let loto of lotoResult" class="a-loto">
                        <span class="a-loto-loto">{{loto.loto}} <span *ngIf="loto.count>1" style="color:red">({{loto.count}})</span> </span>
                    </div>
                </div>
            </div>

        </div>

        <div padding></div>
    </div>
</ion-content>